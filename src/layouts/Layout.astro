---
import { themeCSS } from "../lib/theme";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";

interface Props {
  title?: string;
  description?: string;
}

const {
  title = "Sanciones",
  description = "Sistema de sanciones de Mycraft Network",
} = Astro.props;

const fullTitle = `${title} | Mycraft Network`;
---

<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content={description} />
    <link rel="icon" type="image/svg+xml" href="/favicon.webp" />
    <title>{fullTitle}</title>
    <link rel="preconnect" href="https://render.crafty.gg" />
    <style set:html={themeCSS}></style>

    <meta property="og:type" content="website" />
    <meta property="og:title" content={fullTitle} />
    <meta property="og:description" content={description} />
    <meta property="og:url" content={Astro.site} />
    <meta property="og:image" content={`${Astro.site}og.webp`} />

    <!-- Recomendado -->
    <meta property="og:site_name" content="Mycraft Network Sanciones" />
    <meta property="og:locale" content="es_ES" />
  </head>
  <body class="min-h-screen bg-black text-white font-inter antialiased">
    <div class="fixed inset-0 -z-10 overflow-hidden">
      <div
        class="absolute top-0 left-1/4 w-[600px] h-[600px] bg-purple-600/10 rounded-full blur-[120px] animate-pulse-slow"
      >
      </div>
      <div
        class="absolute bottom-0 right-1/4 w-[500px] h-[500px] bg-blue-600/10 rounded-full blur-[100px] animate-pulse-slow delay-1000"
      >
      </div>

      <div
        class="absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.02)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.02)_1px,transparent_1px)] bg-[size:64px_64px]"
      >
      </div>
    </div>

    <div class="relative flex flex-col min-h-screen">
      <Header />

      <main class="flex-1 animate-page-in">
        <slot />
      </main>

      <Footer />
    </div>

    <script>
      const observerOptions: IntersectionObserverInit = {
        root: null,
        rootMargin: "0px",
        threshold: 0.1,
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add("revealed");
          }
        });
      }, observerOptions);

      document.addEventListener("DOMContentLoaded", () => {
        document.querySelectorAll(".scroll-reveal").forEach((el) => {
          observer.observe(el);
        });
      });

      const mutationObserver = new MutationObserver((mutations) => {
        mutations.forEach((mutation) => {
          mutation.addedNodes.forEach((node) => {
            if (node.nodeType === 1) {
              const element = node as Element;
              if (element.classList?.contains("scroll-reveal")) {
                observer.observe(element);
              }
              element
                .querySelectorAll?.(".scroll-reveal")
                .forEach((el: Element) => {
                  observer.observe(el);
                });
            }
          });
        });
      });

      mutationObserver.observe(document.body, {
        childList: true,
        subtree: true,
      });
    </script>
  </body>
</html>

<style is:global>
  @import "tailwindcss";

  @font-face {
    font-family: "Inter";
    font-style: normal;
    font-weight: 100 900;
    font-display: swap;
    src: url("/fonts/Inter.woff2") format("woff2");
  }

  @font-face {
    font-family: "Clash";
    font-style: normal;
    font-weight: 200 700;
    font-display: swap;
    src: url("/fonts/Clash.woff2") format("woff2");
  }

  @font-face {
    font-family: "Seven";
    font-style: normal;
    font-weight: 400;
    font-display: swap;
    src: url("/fonts/Seven.woff2") format("woff2");
  }

  html,
  body {
    margin: 0;
    width: 100%;
    height: 100%;
  }

  .font-inter {
    font-family: "Inter", system-ui, sans-serif;
  }

  .font-clash {
    font-family: "Clash", "Inter", system-ui, sans-serif;
  }

  .font-seven {
    font-family: "Seven", monospace;
  }

  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: #0a0a0a;
  }

  ::-webkit-scrollbar-thumb {
    background: #333;
    border-radius: 4px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: #444;
  }

  @keyframes pulse-slow {
    0%,
    100% {
      opacity: 0.5;
    }
    50% {
      opacity: 0.8;
    }
  }

  .animate-pulse-slow {
    animation: pulse-slow 8s ease-in-out infinite;
  }

  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in {
    animation: fade-in 0.3s ease-out forwards;
  }

  @keyframes slide-up {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-slide-up {
    animation: slide-up 0.4s ease-out forwards;
  }

  @keyframes scale-in {
    from {
      opacity: 0;
      transform: scale(0.95);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  .animate-scale-in {
    animation: scale-in 0.2s ease-out forwards;
  }

  @keyframes page-in {
    from {
      opacity: 0;
      transform: translateY(8px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-page-in {
    animation: page-in 0.4s ease-out forwards;
  }

  @keyframes reveal-up {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes reveal-scale {
    from {
      opacity: 0;
      transform: scale(0.9);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  @keyframes reveal-left {
    from {
      opacity: 0;
      transform: translateX(-20px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes reveal-right {
    from {
      opacity: 0;
      transform: translateX(20px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  .scroll-reveal {
    opacity: 0;
    transform: translateY(30px);
    transition:
      opacity 0.6s cubic-bezier(0.16, 1, 0.3, 1),
      transform 0.6s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .scroll-reveal.revealed {
    opacity: 1;
    transform: translateY(0);
  }

  .scroll-reveal-scale {
    opacity: 0;
    transform: scale(0.9);
    transition:
      opacity 0.6s cubic-bezier(0.16, 1, 0.3, 1),
      transform 0.6s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .scroll-reveal-scale.revealed {
    opacity: 1;
    transform: scale(1);
  }

  .scroll-reveal-left {
    opacity: 0;
    transform: translateX(-20px);
    transition:
      opacity 0.5s cubic-bezier(0.16, 1, 0.3, 1),
      transform 0.5s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .scroll-reveal-left.revealed {
    opacity: 1;
    transform: translateX(0);
  }

  .scroll-reveal-right {
    opacity: 0;
    transform: translateX(20px);
    transition:
      opacity 0.5s cubic-bezier(0.16, 1, 0.3, 1),
      transform 0.5s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .scroll-reveal-right.revealed {
    opacity: 1;
    transform: translateX(0);
  }

  .stagger-1 {
    animation-delay: 50ms;
    transition-delay: 50ms;
  }
  .stagger-2 {
    animation-delay: 100ms;
    transition-delay: 100ms;
  }
  .stagger-3 {
    animation-delay: 150ms;
    transition-delay: 150ms;
  }
  .stagger-4 {
    animation-delay: 200ms;
    transition-delay: 200ms;
  }
  .stagger-5 {
    animation-delay: 250ms;
    transition-delay: 250ms;
  }
  .stagger-6 {
    animation-delay: 300ms;
    transition-delay: 300ms;
  }
  .stagger-7 {
    animation-delay: 350ms;
    transition-delay: 350ms;
  }
  .stagger-8 {
    animation-delay: 400ms;
    transition-delay: 400ms;
  }
  .stagger-9 {
    animation-delay: 450ms;
    transition-delay: 450ms;
  }
  .stagger-10 {
    animation-delay: 500ms;
    transition-delay: 500ms;
  }

  *:focus-visible {
    outline: 2px solid var(--color-primary);
    outline-offset: 2px;
  }

  ::selection {
    background: rgba(139, 92, 246, 0.3);
    color: white;
  }

  a,
  button {
    transition: all 0.2s ease;
  }

  .glass {
    background: rgba(20, 20, 20, 0.8);
    backdrop-filter: blur(12px);
    border: 1px solid rgba(255, 255, 255, 0.05);
  }

  .card-hover {
    transition:
      transform 0.2s ease,
      box-shadow 0.2s ease;
  }

  .card-hover:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 30px rgba(139, 92, 246, 0.15);
  }

  .gradient-text {
    background: linear-gradient(
      100deg,
      #f4c587,
      #d6d3e9 60.42%,
      #99d2ec 95.31%
    );
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .badge-active {
    background: rgba(239, 68, 68, 0.15);
    color: #ef4444;
    border: 1px solid rgba(239, 68, 68, 0.3);
  }

  .badge-expired {
    background: rgba(113, 113, 122, 0.15);
    color: #a1a1aa;
    border: 1px solid rgba(113, 113, 122, 0.3);
  }

  .badge-removed {
    background: rgba(16, 185, 129, 0.15);
    color: #10b981;
    border: 1px solid rgba(16, 185, 129, 0.3);
  }
</style>
